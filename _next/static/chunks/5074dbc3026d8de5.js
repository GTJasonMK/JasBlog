(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,41241,19556,9752,20486,t=>{"use strict";var e=t.i(49915),r=(0,t.i(65485).default)(Object.keys,Object),a=Object.prototype.hasOwnProperty;let s=function(t){if(!(0,e.default)(t))return r(t);var s=[];for(var i in Object(t))a.call(t,i)&&"constructor"!=i&&s.push(i);return s};t.s(["default",0,s],19556);var i=t.i(47244),n=t.i(56176),l=(0,i.default)(n.default,"DataView"),o=t.i(44483),d=(0,i.default)(n.default,"Promise"),c=(0,i.default)(n.default,"Set");t.s(["default",0,c],9752);var p=(0,i.default)(n.default,"WeakMap"),h=t.i(35287),u=t.i(66762),f="[object Map]",m="[object Promise]",g="[object Set]",y="[object WeakMap]",k="[object DataView]",b=(0,u.default)(l),x=(0,u.default)(o.default),_=(0,u.default)(d),v=(0,u.default)(c),w=(0,u.default)(p),M=h.default;(l&&M(new l(new ArrayBuffer(1)))!=k||o.default&&M(new o.default)!=f||d&&M(d.resolve())!=m||c&&M(new c)!=g||p&&M(new p)!=y)&&(M=function(t){var e=(0,h.default)(t),r="[object Object]"==e?t.constructor:void 0,a=r?(0,u.default)(r):"";if(a)switch(a){case b:return k;case x:return f;case _:return m;case v:return g;case w:return y}return e});let j=M;t.s(["default",0,j],20486);var $=t.i(15300),L=t.i(44071),S=t.i(41338),T=t.i(3745),O=t.i(1645),E=Object.prototype.hasOwnProperty;t.s(["default",0,function(t){if(null==t)return!0;if((0,S.default)(t)&&((0,L.default)(t)||"string"==typeof t||"function"==typeof t.splice||(0,T.default)(t)||(0,O.default)(t)||(0,$.default)(t)))return!t.length;var r=j(t);if("[object Map]"==r||"[object Set]"==r)return!t.size;if((0,e.default)(t))return!s(t).length;for(var a in t)if(E.call(t,a))return!1;return!0}],41241)},83996,t=>{"use strict";var e=t.i(80926),r=t.i(71206);t.i(47716);var a=t.i(23685),s=(0,r.__name)(t=>{let{securityLevel:r}=(0,e.getConfig2)(),s=(0,a.select)("body");if("sandbox"===r){let e=(0,a.select)(`#i${t}`),r=e.node()?.contentDocument??document;s=(0,a.select)(r.body)}return s.select(`#${t}`)},"selectSvgElement");t.s(["selectSvgElement",()=>s])},2256,t=>{"use strict";var e=(0,t.i(71206).__name)(({flowchart:t})=>{let e=t?.subGraphTitleMargin?.top??0,r=t?.subGraphTitleMargin?.bottom??0;return{subGraphTitleTopMargin:e,subGraphTitleBottomMargin:r,subGraphTitleTotalMargin:e+r}},"getSubGraphTitleMargins");t.s(["getSubGraphTitleMargins",()=>e])},33448,t=>{"use strict";var e=t.i(80926),r=t.i(71206),a=(0,r.__name)(t=>{let{handDrawnSeed:r}=(0,e.getConfig2)();return{fill:t,hachureAngle:120,hachureGap:4,fillWeight:2,roughness:.7,stroke:t,seed:r}},"solidStateFill"),s=(0,r.__name)(t=>{let e=i([...t.cssCompiledStyles||[],...t.cssStyles||[],...t.labelStyle||[]]);return{stylesMap:e,stylesArray:[...e]}},"compileStyles"),i=(0,r.__name)(t=>{let e=new Map;return t.forEach(t=>{let[r,a]=t.split(":");e.set(r.trim(),a?.trim())}),e},"styles2Map"),n=(0,r.__name)(t=>"color"===t||"font-size"===t||"font-family"===t||"font-weight"===t||"font-style"===t||"text-decoration"===t||"text-align"===t||"text-transform"===t||"line-height"===t||"letter-spacing"===t||"word-spacing"===t||"text-shadow"===t||"text-overflow"===t||"white-space"===t||"word-wrap"===t||"word-break"===t||"overflow-wrap"===t||"hyphens"===t,"isLabelStyle"),l=(0,r.__name)(t=>{let{stylesArray:e}=s(t),r=[],a=[],i=[],l=[];return e.forEach(t=>{let e=t[0];n(e)?r.push(t.join(":")+" !important"):(a.push(t.join(":")+" !important"),e.includes("stroke")&&i.push(t.join(":")+" !important"),"fill"===e&&l.push(t.join(":")+" !important"))}),{labelStyles:r.join(";"),nodeStyles:a.join(";"),stylesArray:e,borderStyles:i,backgroundStyles:l}},"styles2String"),o=(0,r.__name)((t,r)=>{let{themeVariables:a,handDrawnSeed:i}=(0,e.getConfig2)(),{nodeBorder:n,mainBkg:l}=a,{stylesMap:o}=s(t);return Object.assign({roughness:.7,fill:o.get("fill")||l,fillStyle:"hachure",fillWeight:4,hachureGap:5.2,stroke:o.get("stroke")||n,seed:i,strokeWidth:o.get("stroke-width")?.replace("px","")||1.3,fillLineDash:[0,0],strokeLineDash:d(o.get("stroke-dasharray"))},r)},"userNodeOverrides"),d=(0,r.__name)(t=>{if(!t)return[0,0];let e=t.trim().split(/\s+/).map(Number);if(1===e.length){let t=isNaN(e[0])?0:e[0];return[t,t]}return[isNaN(e[0])?0:e[0],isNaN(e[1])?0:e[1]]},"getStrokeDashArray");t.s(["compileStyles",()=>s,"isLabelStyle",()=>n,"solidStateFill",()=>a,"styles2String",()=>l,"userNodeOverrides",()=>o])},75058,16888,t=>{"use strict";t.s(["default",0,function(t){return function(){return t}}],75058);let e=Math.PI,r=2*e,a=r-1e-6;function s(t){this._+=t[0];for(let e=1,r=t.length;e<r;++e)this._+=arguments[e]+t[e]}class i{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=null==t?s:function(t){let e=Math.floor(t);if(!(e>=0))throw Error(`invalid digits: ${t}`);if(e>15)return s;let r=10**e;return function(t){this._+=t[0];for(let e=1,a=t.length;e<a;++e)this._+=Math.round(arguments[e]*r)/r+t[e]}}(t)}moveTo(t,e){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+e}`}closePath(){null!==this._x1&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,e){this._append`L${this._x1=+t},${this._y1=+e}`}quadraticCurveTo(t,e,r,a){this._append`Q${+t},${+e},${this._x1=+r},${this._y1=+a}`}bezierCurveTo(t,e,r,a,s,i){this._append`C${+t},${+e},${+r},${+a},${this._x1=+s},${this._y1=+i}`}arcTo(t,r,a,s,i){if(t*=1,r*=1,a*=1,s*=1,(i*=1)<0)throw Error(`negative radius: ${i}`);let n=this._x1,l=this._y1,o=a-t,d=s-r,c=n-t,p=l-r,h=c*c+p*p;if(null===this._x1)this._append`M${this._x1=t},${this._y1=r}`;else if(h>1e-6)if(Math.abs(p*o-d*c)>1e-6&&i){let u=a-n,f=s-l,m=o*o+d*d,g=Math.sqrt(m),y=Math.sqrt(h),k=i*Math.tan((e-Math.acos((m+h-(u*u+f*f))/(2*g*y)))/2),b=k/y,x=k/g;Math.abs(b-1)>1e-6&&this._append`L${t+b*c},${r+b*p}`,this._append`A${i},${i},0,0,${+(p*u>c*f)},${this._x1=t+x*o},${this._y1=r+x*d}`}else this._append`L${this._x1=t},${this._y1=r}`}arc(t,s,i,n,l,o){if(t*=1,s*=1,i*=1,o=!!o,i<0)throw Error(`negative radius: ${i}`);let d=i*Math.cos(n),c=i*Math.sin(n),p=t+d,h=s+c,u=1^o,f=o?n-l:l-n;null===this._x1?this._append`M${p},${h}`:(Math.abs(this._x1-p)>1e-6||Math.abs(this._y1-h)>1e-6)&&this._append`L${p},${h}`,i&&(f<0&&(f=f%r+r),f>a?this._append`A${i},${i},0,1,${u},${t-d},${s-c}A${i},${i},0,1,${u},${this._x1=p},${this._y1=h}`:f>1e-6&&this._append`A${i},${i},0,${+(f>=e)},${u},${this._x1=t+i*Math.cos(l)},${this._y1=s+i*Math.sin(l)}`)}rect(t,e,r,a){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+e}h${r*=1}v${+a}h${-r}Z`}toString(){return this._}}function n(t){let e=3;return t.digits=function(r){if(!arguments.length)return e;if(null==r)e=null;else{let t=Math.floor(r);if(!(t>=0))throw RangeError(`invalid digits: ${r}`);e=t}return t},()=>new i(e)}i.prototype,t.s(["withPath",()=>n],16888)},62990,t=>{"use strict";Array.prototype.slice,t.s(["default",0,function(t){return"object"==typeof t&&"length"in t?t:Array.from(t)}])},85833,t=>{"use strict";var e=t.i(62990),r=t.i(75058),a=t.i(48114),s=t.i(16888);function i(t){return t[0]}function n(t){return t[1]}t.s(["line",0,function(t,l){var o=(0,r.default)(!0),d=null,c=a.default,p=null,h=(0,s.withPath)(u);function u(r){var a,s,i,n=(r=(0,e.default)(r)).length,u=!1;for(null==d&&(p=c(i=h())),a=0;a<=n;++a)!(a<n&&o(s=r[a],a,r))===u&&((u=!u)?p.lineStart():p.lineEnd()),u&&p.point(+t(s,a,r),+l(s,a,r));if(i)return p=null,i+""||null}return t="function"==typeof t?t:void 0===t?i:(0,r.default)(t),l="function"==typeof l?l:void 0===l?n:(0,r.default)(l),u.x=function(e){return arguments.length?(t="function"==typeof e?e:(0,r.default)(+e),u):t},u.y=function(t){return arguments.length?(l="function"==typeof t?t:(0,r.default)(+t),u):l},u.defined=function(t){return arguments.length?(o="function"==typeof t?t:(0,r.default)(!!t),u):o},u.curve=function(t){return arguments.length?(c=t,null!=d&&(p=c(d)),u):c},u.context=function(t){return arguments.length?(null==t?d=p=null:p=c(d=t),u):d},u}],85833)},20502,t=>{"use strict";var e=t.i(71206),r={aggregation:17.25,extension:17.25,composition:17.25,dependency:6,lollipop:13.5,arrow_point:4},a={arrow_point:9,arrow_cross:12.5,arrow_circle:12.5};function s(t,e){if(void 0===t||void 0===e)return{angle:0,deltaX:0,deltaY:0};t=i(t),e=i(e);let[r,a]=[t.x,t.y],[s,n]=[e.x,e.y],l=s-r,o=n-a;return{angle:Math.atan(o/l),deltaX:l,deltaY:o}}(0,e.__name)(s,"calculateDeltaAndAngle");var i=(0,e.__name)(t=>Array.isArray(t)?{x:t[0],y:t[1]}:t,"pointTransformer"),n=(0,e.__name)(t=>({x:(0,e.__name)(function(e,a,n){let l=0,o=i(n[0]).x<i(n[n.length-1]).x?"left":"right";if(0===a&&Object.hasOwn(r,t.arrowTypeStart)){let{angle:e,deltaX:a}=s(n[0],n[1]);l=r[t.arrowTypeStart]*Math.cos(e)*(a>=0?1:-1)}else if(a===n.length-1&&Object.hasOwn(r,t.arrowTypeEnd)){let{angle:e,deltaX:a}=s(n[n.length-1],n[n.length-2]);l=r[t.arrowTypeEnd]*Math.cos(e)*(a>=0?1:-1)}let d=Math.abs(i(e).x-i(n[n.length-1]).x),c=Math.abs(i(e).y-i(n[n.length-1]).y),p=Math.abs(i(e).x-i(n[0]).x),h=Math.abs(i(e).y-i(n[0]).y),u=r[t.arrowTypeStart],f=r[t.arrowTypeEnd];if(d<f&&d>0&&c<f){let t=f+1-d;t*="right"===o?-1:1,l-=t}if(p<u&&p>0&&h<u){let t=u+1-p;t*="right"===o?-1:1,l+=t}return i(e).x+l},"x"),y:(0,e.__name)(function(e,a,n){let l=0,o=i(n[0]).y<i(n[n.length-1]).y?"down":"up";if(0===a&&Object.hasOwn(r,t.arrowTypeStart)){let{angle:e,deltaY:a}=s(n[0],n[1]);l=r[t.arrowTypeStart]*Math.abs(Math.sin(e))*(a>=0?1:-1)}else if(a===n.length-1&&Object.hasOwn(r,t.arrowTypeEnd)){let{angle:e,deltaY:a}=s(n[n.length-1],n[n.length-2]);l=r[t.arrowTypeEnd]*Math.abs(Math.sin(e))*(a>=0?1:-1)}let d=Math.abs(i(e).y-i(n[n.length-1]).y),c=Math.abs(i(e).x-i(n[n.length-1]).x),p=Math.abs(i(e).y-i(n[0]).y),h=Math.abs(i(e).x-i(n[0]).x),u=r[t.arrowTypeStart],f=r[t.arrowTypeEnd];if(d<f&&d>0&&c<f){let t=f+1-d;t*="up"===o?-1:1,l-=t}if(p<u&&p>0&&h<u){let t=u+1-p;t*="up"===o?-1:1,l+=t}return i(e).y+l},"y")}),"getLineFunctionsWithOffset");t.s(["getLineFunctionsWithOffset",()=>n,"markerOffsets",()=>r,"markerOffsets2",()=>a])},54802,t=>{"use strict";var e=t.i(20502),r=t.i(7983),a=t.i(2256),s=t.i(33448),i=t.i(80262),n=t.i(95923),l=t.i(80926),o=t.i(71206);t.i(47716);var d=t.i(104),c=t.i(51262),p=t.i(26157),h=t.i(72200),u=t.i(22914),f=t.i(93158),m=t.i(63823),g=t.i(92536),y=t.i(26619),k=t.i(81142),b=t.i(357),x=t.i(63018),_=t.i(85833),v=t.i(23685),w=t.i(83272),M=(0,o.__name)((t,e,r,a,s,i)=>{e.arrowTypeStart&&$(t,"start",e.arrowTypeStart,r,a,s,i),e.arrowTypeEnd&&$(t,"end",e.arrowTypeEnd,r,a,s,i)},"addEdgeMarkers"),j={arrow_cross:{type:"cross",fill:!1},arrow_point:{type:"point",fill:!0},arrow_barb:{type:"barb",fill:!0},arrow_circle:{type:"circle",fill:!1},aggregation:{type:"aggregation",fill:!1},extension:{type:"extension",fill:!1},composition:{type:"composition",fill:!0},dependency:{type:"dependency",fill:!0},lollipop:{type:"lollipop",fill:!1},only_one:{type:"onlyOne",fill:!1},zero_or_one:{type:"zeroOrOne",fill:!1},one_or_more:{type:"oneOrMore",fill:!1},zero_or_more:{type:"zeroOrMore",fill:!1},requirement_arrow:{type:"requirement_arrow",fill:!1},requirement_contains:{type:"requirement_contains",fill:!1}},$=(0,o.__name)((t,e,r,a,s,i,n)=>{let l=j[r];if(!l)return void o.log.warn(`Unknown arrow type: ${r}`);let d=l.type,c=`${s}_${i}-${d}${"start"===e?"Start":"End"}`;if(n&&""!==n.trim()){let r=n.replace(/[^\dA-Za-z]/g,"_"),s=`${c}_${r}`;if(!document.getElementById(s)){let t=document.getElementById(c);if(t){let e=t.cloneNode(!0);e.id=s,e.querySelectorAll("path, circle, line").forEach(t=>{t.setAttribute("stroke",n),l.fill&&t.setAttribute("fill",n)}),t.parentNode?.appendChild(e)}}t.attr(`marker-${e}`,`url(${a}#${s})`)}else t.attr(`marker-${e}`,`url(${a}#${c})`)},"addEdgeMarker"),L=new Map,S=new Map,T=(0,o.__name)(()=>{L.clear(),S.clear()},"clear"),O=(0,o.__name)(t=>t?t.reduce((t,e)=>t+";"+e,""):"","getLabelStyles"),E=(0,o.__name)(async(t,e)=>{let a,n=(0,l.evaluate)((0,l.getConfig2)().flowchart.htmlLabels),{labelStyles:d}=(0,s.styles2String)(e);e.labelStyle=d;let c=await (0,i.createText)(t,e.label,{style:e.labelStyle,useHtmlLabels:n,addSvgBackground:!0,isNode:!1});o.log.info("abc82",e,e.labelType);let p=t.insert("g").attr("class","edgeLabel"),h=p.insert("g").attr("class","label").attr("data-id",e.id);h.node().appendChild(c);let u=c.getBBox();if(n){let t=c.children[0],e=(0,v.select)(c);u=t.getBoundingClientRect(),e.attr("width",u.width),e.attr("height",u.height)}if(h.attr("transform","translate("+-u.width/2+", "+-u.height/2+")"),L.set(e.id,p),e.width=u.width,e.height=u.height,e.startLabelLeft){let s=await (0,r.createLabel_default)(e.startLabelLeft,O(e.labelStyle)),i=t.insert("g").attr("class","edgeTerminals"),n=i.insert("g").attr("class","inner");a=n.node().appendChild(s);let l=s.getBBox();n.attr("transform","translate("+-l.width/2+", "+-l.height/2+")"),S.get(e.id)||S.set(e.id,{}),S.get(e.id).startLeft=i,P(a,e.startLabelLeft)}if(e.startLabelRight){let s=await (0,r.createLabel_default)(e.startLabelRight,O(e.labelStyle)),i=t.insert("g").attr("class","edgeTerminals"),n=i.insert("g").attr("class","inner");a=i.node().appendChild(s),n.node().appendChild(s);let l=s.getBBox();n.attr("transform","translate("+-l.width/2+", "+-l.height/2+")"),S.get(e.id)||S.set(e.id,{}),S.get(e.id).startRight=i,P(a,e.startLabelRight)}if(e.endLabelLeft){let s=await (0,r.createLabel_default)(e.endLabelLeft,O(e.labelStyle)),i=t.insert("g").attr("class","edgeTerminals"),n=i.insert("g").attr("class","inner");a=n.node().appendChild(s);let l=s.getBBox();n.attr("transform","translate("+-l.width/2+", "+-l.height/2+")"),i.node().appendChild(s),S.get(e.id)||S.set(e.id,{}),S.get(e.id).endLeft=i,P(a,e.endLabelLeft)}if(e.endLabelRight){let s=await (0,r.createLabel_default)(e.endLabelRight,O(e.labelStyle)),i=t.insert("g").attr("class","edgeTerminals"),n=i.insert("g").attr("class","inner");a=n.node().appendChild(s);let l=s.getBBox();n.attr("transform","translate("+-l.width/2+", "+-l.height/2+")"),i.node().appendChild(s),S.get(e.id)||S.set(e.id,{}),S.get(e.id).endRight=i,P(a,e.endLabelRight)}return c},"insertEdgeLabel");function P(t,e){(0,l.getConfig2)().flowchart.htmlLabels&&t&&(t.style.width=9*e.length+"px",t.style.height="12px")}(0,o.__name)(P,"setTerminalWidth");var C=(0,o.__name)((t,e)=>{o.log.debug("Moving label abc88 ",t.id,t.label,L.get(t.id),e);let r=e.updatedPath?e.updatedPath:e.originalPath,s=(0,l.getConfig2)(),{subGraphTitleTotalMargin:i}=(0,a.getSubGraphTitleMargins)(s);if(t.label){let a=L.get(t.id),s=t.x,l=t.y;if(r){let a=n.utils_default.calcLabelPosition(r);o.log.debug("Moving label "+t.label+" from (",s,",",l,") to (",a.x,",",a.y,") abc88"),e.updatedPath&&(s=a.x,l=a.y)}a.attr("transform",`translate(${s}, ${l+i/2})`)}if(t.startLabelLeft){let e=S.get(t.id).startLeft,a=t.x,s=t.y;if(r){let e=n.utils_default.calcTerminalLabelPosition(10*!!t.arrowTypeStart,"start_left",r);a=e.x,s=e.y}e.attr("transform",`translate(${a}, ${s})`)}if(t.startLabelRight){let e=S.get(t.id).startRight,a=t.x,s=t.y;if(r){let e=n.utils_default.calcTerminalLabelPosition(10*!!t.arrowTypeStart,"start_right",r);a=e.x,s=e.y}e.attr("transform",`translate(${a}, ${s})`)}if(t.endLabelLeft){let e=S.get(t.id).endLeft,a=t.x,s=t.y;if(r){let e=n.utils_default.calcTerminalLabelPosition(10*!!t.arrowTypeEnd,"end_left",r);a=e.x,s=e.y}e.attr("transform",`translate(${a}, ${s})`)}if(t.endLabelRight){let e=S.get(t.id).endRight,a=t.x,s=t.y;if(r){let e=n.utils_default.calcTerminalLabelPosition(10*!!t.arrowTypeEnd,"end_right",r);a=e.x,s=e.y}e.attr("transform",`translate(${a}, ${s})`)}},"positionEdgeLabel"),A=(0,o.__name)((t,e)=>{let r=t.x,a=t.y,s=Math.abs(e.x-r),i=Math.abs(e.y-a),n=t.width/2,l=t.height/2;return s>=n||i>=l},"outsideNode"),N=(0,o.__name)((t,e,r)=>{o.log.debug(`intersection calc abc89:
  outsidePoint: ${JSON.stringify(e)}
  insidePoint : ${JSON.stringify(r)}
  node        : x:${t.x} y:${t.y} w:${t.width} h:${t.height}`);let a=t.x,s=t.y,i=Math.abs(a-r.x),n=t.width/2,l=r.x<e.x?n-i:n+i,d=t.height/2,c=Math.abs(e.y-r.y),p=Math.abs(e.x-r.x);if(Math.abs(s-e.y)*n>Math.abs(a-e.x)*d){let t=r.y<e.y?e.y-d-s:s-d-e.y;l=p*t/c;let a={x:r.x<e.x?r.x+l:r.x-p+l,y:r.y<e.y?r.y+c-t:r.y-c+t};return 0===l&&(a.x=e.x,a.y=e.y),0===p&&(a.x=e.x),0===c&&(a.y=e.y),o.log.debug(`abc89 top/bottom calc, Q ${c}, q ${t}, R ${p}, r ${l}`,a),a}{let t=c*(l=r.x<e.x?e.x-n-a:a-n-e.x)/p,s=r.x<e.x?r.x+p-l:r.x-p+l,i=r.y<e.y?r.y+t:r.y-t;return o.log.debug(`sides calc abc89, Q ${c}, q ${t}, R ${p}, r ${l}`,{_x:s,_y:i}),0===l&&(s=e.x,i=e.y),0===p&&(s=e.x),0===c&&(i=e.y),{x:s,y:i}}},"intersection"),W=(0,o.__name)((t,e)=>{o.log.warn("abc88 cutPathAtIntersect",t,e);let r=[],a=t[0],s=!1;return t.forEach(t=>{if(o.log.info("abc88 checking point",t,e),A(e,t)||s)o.log.warn("abc88 outside",t,a),a=t,s||r.push(t);else{let i=N(e,a,t);o.log.debug("abc88 inside",t,a,i),o.log.debug("abc88 intersection",i,e);let n=!1;r.forEach(t=>{n=n||t.x===i.x&&t.y===i.y}),r.some(t=>t.x===i.x&&t.y===i.y)?o.log.warn("abc88 no intersect",i,r):r.push(i),s=!0}}),o.log.debug("returning points",r),r},"cutPathAtIntersect");function B(t){let e=[],r=[];for(let a=1;a<t.length-1;a++){let s=t[a-1],i=t[a],n=t[a+1];s.x===i.x&&i.y===n.y&&Math.abs(i.x-n.x)>5&&Math.abs(i.y-s.y)>5?(e.push(i),r.push(a)):s.y===i.y&&i.x===n.x&&Math.abs(i.x-s.x)>5&&Math.abs(i.y-n.y)>5&&(e.push(i),r.push(a))}return{cornerPoints:e,cornerPointPositions:r}}(0,o.__name)(B,"extractCornerPoints");var Y=(0,o.__name)(function(t,e,r){let a=e.x-t.x,s=e.y-t.y,i=r/Math.sqrt(a*a+s*s);return{x:e.x-i*a,y:e.y-i*s}},"findAdjacentPoint"),X=(0,o.__name)(function(t){let{cornerPointPositions:e}=B(t),r=[];for(let a=0;a<t.length;a++)if(e.includes(a)){let e=t[a-1],s=t[a+1],i=t[a],n=Y(e,i,5),l=Y(s,i,5),d=l.x-n.x,c=l.y-n.y;r.push(n);let p=2*Math.sqrt(2),h={x:i.x,y:i.y};Math.abs(s.x-e.x)>10&&Math.abs(s.y-e.y)>=10?(o.log.debug("Corner point fixing",Math.abs(s.x-e.x),Math.abs(s.y-e.y)),h=i.x===n.x?{x:d<0?n.x-5+p:n.x+5-p,y:c<0?n.y-p:n.y+p}:{x:d<0?n.x-p:n.x+p,y:c<0?n.y-5+p:n.y+5-p}):o.log.debug("Corner point skipping fixing",Math.abs(s.x-e.x),Math.abs(s.y-e.y)),r.push(h,l)}else r.push(t[a]);return r},"fixCorners"),H=(0,o.__name)((t,e,r)=>{let a=Array(Math.floor((t-e-r)/4)).fill("2 2").join(" ");return`0 ${e} ${a} ${r}`},"generateDashArray"),R=(0,o.__name)(function(t,r,a,i,j,$,L,S=!1){let T,O,{handDrawnSeed:E}=(0,l.getConfig2)(),P=r.points,C=!1,A=[];for(let t in r.cssCompiledStyles)(0,s.isLabelStyle)(t)||A.push(r.cssCompiledStyles[t]);o.log.debug("UIO intersect check",r.points,$.x,j.x),$.intersect&&j.intersect&&!S&&((P=P.slice(1,r.points.length-1)).unshift(j.intersect(P[0])),o.log.debug("Last point UIO",r.start,"-->",r.end,P[P.length-1],$,$.intersect(P[P.length-1])),P.push($.intersect(P[P.length-1])));let N=btoa(JSON.stringify(P));r.toCluster&&(o.log.info("to cluster abc88",a.get(r.toCluster)),P=W(r.points,a.get(r.toCluster).node),C=!0),r.fromCluster&&(o.log.debug("from cluster abc88",a.get(r.fromCluster),JSON.stringify(P,null,2)),P=W(P.reverse(),a.get(r.fromCluster).node).reverse(),C=!0);let B=P.filter(t=>!Number.isNaN(t.y));B=X(B);let Y=d.curveBasis;switch(Y=c.curveLinear,r.curve){case"linear":Y=c.curveLinear;break;case"basis":default:Y=d.curveBasis;break;case"cardinal":Y=p.curveCardinal;break;case"bumpX":Y=h.curveBumpX;break;case"bumpY":Y=u.curveBumpY;break;case"catmullRom":Y=f.curveCatmullRom;break;case"monotoneX":Y=m.curveMonotoneX;break;case"monotoneY":Y=g.curveMonotoneY;break;case"natural":Y=y.curveNatural;break;case"step":Y=k.curveStep;break;case"stepAfter":Y=b.curveStepAfter;break;case"stepBefore":Y=x.curveStepBefore}let{x:R,y:z}=(0,e.getLineFunctionsWithOffset)(r),D=(0,_.line)().x(R).y(z).curve(Y);switch(r.thickness){case"normal":default:T="edge-thickness-normal";break;case"thick":T="edge-thickness-thick";break;case"invisible":T="edge-thickness-invisible"}switch(r.pattern){case"solid":default:T+=" edge-pattern-solid";break;case"dotted":T+=" edge-pattern-dotted";break;case"dashed":T+=" edge-pattern-dashed"}let I="rounded"===r.curve?q(U(B,r),5):D(B),Q=Array.isArray(r.style)?r.style:[r.style],Z=Q.find(t=>t?.startsWith("stroke:")),G=!1;if("handDrawn"===r.look){let e=w.default.svg(t);Object.assign([],B);let a=e.path(I,{roughness:.3,seed:E});T+=" transition";let s=(O=(0,v.select)(a).select("path").attr("id",r.id).attr("class"," "+T+(r.classes?" "+r.classes:"")).attr("style",Q?Q.reduce((t,e)=>t+";"+e,""):"")).attr("d");O.attr("d",s),t.node().appendChild(O.node())}else{let a=A.join(";"),s=Q?Q.reduce((t,e)=>t+e+";",""):"",i="";r.animate&&(i=" edge-animation-fast"),r.animation&&(i=" edge-animation-"+r.animation);let n=(a?a+";"+s+";":s)+";"+(Q?Q.reduce((t,e)=>t+";"+e,""):"");O=t.append("path").attr("d",I).attr("id",r.id).attr("class"," "+T+(r.classes?" "+r.classes:"")+(i??"")).attr("style",n),Z=n.match(/stroke:([^;]+)/)?.[1],G=!0===r.animate||!!r.animation||a.includes("animation");let l=O.node(),o="function"==typeof l.getTotalLength?l.getTotalLength():0,d=e.markerOffsets2[r.arrowTypeStart]||0,c=e.markerOffsets2[r.arrowTypeEnd]||0;if("neo"===r.look&&!G){let t="dotted"===r.pattern||"dashed"===r.pattern?H(o,d,c):`0 ${d} ${o-d-c} ${c}`,e=`stroke-dasharray: ${t}; stroke-dashoffset: 0;`;O.attr("style",e+O.attr("style"))}}O.attr("data-edge",!0),O.attr("data-et","edge"),O.attr("data-id",r.id),O.attr("data-points",N),r.showPoints&&B.forEach(e=>{t.append("circle").style("stroke","red").style("fill","red").attr("r",1).attr("cx",e.x).attr("cy",e.y)});let F="";((0,l.getConfig2)().flowchart.arrowMarkerAbsolute||(0,l.getConfig2)().state.arrowMarkerAbsolute)&&(F=(F=window.location.protocol+"//"+window.location.host+window.location.pathname+window.location.search).replace(/\(/g,"\\(").replace(/\)/g,"\\)")),o.log.info("arrowTypeStart",r.arrowTypeStart),o.log.info("arrowTypeEnd",r.arrowTypeEnd),M(O,r,F,L,i,Z);let J=Math.floor(P.length/2),V=P[J];n.utils_default.isLabelCoordinateInPath(V,O.attr("d"))||(C=!0);let K={};return C&&(K.updatedPath=P),K.originalPath=r.points,K},"insertEdge");function q(t,e){if(t.length<2)return"";let r="",a=t.length;for(let s=0;s<a;s++){let i=t[s],n=t[s-1],l=t[s+1];if(0===s)r+=`M${i.x},${i.y}`;else if(s===a-1)r+=`L${i.x},${i.y}`;else{let t=i.x-n.x,a=i.y-n.y,s=l.x-i.x,o=l.y-i.y,d=Math.hypot(t,a),c=Math.hypot(s,o);if(d<1e-5||c<1e-5){r+=`L${i.x},${i.y}`;continue}let p=t/d,h=a/d,u=s/c,f=o/c,m=Math.acos(Math.max(-1,Math.min(1,p*u+h*f)));if(m<1e-5||1e-5>Math.abs(Math.PI-m)){r+=`L${i.x},${i.y}`;continue}let g=Math.min(e/Math.sin(m/2),d/2,c/2),y=i.x-p*g,k=i.y-h*g,b=i.x+u*g,x=i.y+f*g;r+=`L${y},${k}Q${i.x},${i.y} ${b},${x}`}}return r}function z(t,e){if(!t||!e)return{angle:0,deltaX:0,deltaY:0};let r=e.x-t.x,a=e.y-t.y;return{angle:Math.atan2(a,r),deltaX:r,deltaY:a}}function U(t,r){let a=t.map(t=>({...t}));if(t.length>=2&&e.markerOffsets[r.arrowTypeStart]){let s=e.markerOffsets[r.arrowTypeStart],i=t[0],{angle:n}=z(i,t[1]),l=s*Math.cos(n),o=s*Math.sin(n);a[0].x=i.x+l,a[0].y=i.y+o}let s=t.length;if(s>=2&&e.markerOffsets[r.arrowTypeEnd]){let i=e.markerOffsets[r.arrowTypeEnd],n=t[s-1],{angle:l}=z(t[s-2],n),o=i*Math.cos(l),d=i*Math.sin(l);a[s-1].x=n.x-o,a[s-1].y=n.y-d}return a}(0,o.__name)(q,"generateRoundedPath"),(0,o.__name)(z,"calculateDeltaAndAngle"),(0,o.__name)(U,"applyMarkerOffsetsToPoints");var D=(0,o.__name)((t,e,r,a)=>{e.forEach(e=>{ti[e](t,r,a)})},"insertMarkers"),I=(0,o.__name)((t,e,r)=>{o.log.trace("Making markers for ",r),t.append("defs").append("marker").attr("id",r+"_"+e+"-extensionStart").attr("class","marker extension "+e).attr("refX",18).attr("refY",7).attr("markerWidth",190).attr("markerHeight",240).attr("orient","auto").append("path").attr("d","M 1,7 L18,13 V 1 Z"),t.append("defs").append("marker").attr("id",r+"_"+e+"-extensionEnd").attr("class","marker extension "+e).attr("refX",1).attr("refY",7).attr("markerWidth",20).attr("markerHeight",28).attr("orient","auto").append("path").attr("d","M 1,1 V 13 L18,7 Z")},"extension"),Q=(0,o.__name)((t,e,r)=>{t.append("defs").append("marker").attr("id",r+"_"+e+"-compositionStart").attr("class","marker composition "+e).attr("refX",18).attr("refY",7).attr("markerWidth",190).attr("markerHeight",240).attr("orient","auto").append("path").attr("d","M 18,7 L9,13 L1,7 L9,1 Z"),t.append("defs").append("marker").attr("id",r+"_"+e+"-compositionEnd").attr("class","marker composition "+e).attr("refX",1).attr("refY",7).attr("markerWidth",20).attr("markerHeight",28).attr("orient","auto").append("path").attr("d","M 18,7 L9,13 L1,7 L9,1 Z")},"composition"),Z=(0,o.__name)((t,e,r)=>{t.append("defs").append("marker").attr("id",r+"_"+e+"-aggregationStart").attr("class","marker aggregation "+e).attr("refX",18).attr("refY",7).attr("markerWidth",190).attr("markerHeight",240).attr("orient","auto").append("path").attr("d","M 18,7 L9,13 L1,7 L9,1 Z"),t.append("defs").append("marker").attr("id",r+"_"+e+"-aggregationEnd").attr("class","marker aggregation "+e).attr("refX",1).attr("refY",7).attr("markerWidth",20).attr("markerHeight",28).attr("orient","auto").append("path").attr("d","M 18,7 L9,13 L1,7 L9,1 Z")},"aggregation"),G=(0,o.__name)((t,e,r)=>{t.append("defs").append("marker").attr("id",r+"_"+e+"-dependencyStart").attr("class","marker dependency "+e).attr("refX",6).attr("refY",7).attr("markerWidth",190).attr("markerHeight",240).attr("orient","auto").append("path").attr("d","M 5,7 L9,13 L1,7 L9,1 Z"),t.append("defs").append("marker").attr("id",r+"_"+e+"-dependencyEnd").attr("class","marker dependency "+e).attr("refX",13).attr("refY",7).attr("markerWidth",20).attr("markerHeight",28).attr("orient","auto").append("path").attr("d","M 18,7 L9,13 L14,7 L9,1 Z")},"dependency"),F=(0,o.__name)((t,e,r)=>{t.append("defs").append("marker").attr("id",r+"_"+e+"-lollipopStart").attr("class","marker lollipop "+e).attr("refX",13).attr("refY",7).attr("markerWidth",190).attr("markerHeight",240).attr("orient","auto").append("circle").attr("stroke","black").attr("fill","transparent").attr("cx",7).attr("cy",7).attr("r",6),t.append("defs").append("marker").attr("id",r+"_"+e+"-lollipopEnd").attr("class","marker lollipop "+e).attr("refX",1).attr("refY",7).attr("markerWidth",190).attr("markerHeight",240).attr("orient","auto").append("circle").attr("stroke","black").attr("fill","transparent").attr("cx",7).attr("cy",7).attr("r",6)},"lollipop"),J=(0,o.__name)((t,e,r)=>{t.append("marker").attr("id",r+"_"+e+"-pointEnd").attr("class","marker "+e).attr("viewBox","0 0 10 10").attr("refX",5).attr("refY",5).attr("markerUnits","userSpaceOnUse").attr("markerWidth",8).attr("markerHeight",8).attr("orient","auto").append("path").attr("d","M 0 0 L 10 5 L 0 10 z").attr("class","arrowMarkerPath").style("stroke-width",1).style("stroke-dasharray","1,0"),t.append("marker").attr("id",r+"_"+e+"-pointStart").attr("class","marker "+e).attr("viewBox","0 0 10 10").attr("refX",4.5).attr("refY",5).attr("markerUnits","userSpaceOnUse").attr("markerWidth",8).attr("markerHeight",8).attr("orient","auto").append("path").attr("d","M 0 5 L 10 10 L 10 0 z").attr("class","arrowMarkerPath").style("stroke-width",1).style("stroke-dasharray","1,0")},"point"),V=(0,o.__name)((t,e,r)=>{t.append("marker").attr("id",r+"_"+e+"-circleEnd").attr("class","marker "+e).attr("viewBox","0 0 10 10").attr("refX",11).attr("refY",5).attr("markerUnits","userSpaceOnUse").attr("markerWidth",11).attr("markerHeight",11).attr("orient","auto").append("circle").attr("cx","5").attr("cy","5").attr("r","5").attr("class","arrowMarkerPath").style("stroke-width",1).style("stroke-dasharray","1,0"),t.append("marker").attr("id",r+"_"+e+"-circleStart").attr("class","marker "+e).attr("viewBox","0 0 10 10").attr("refX",-1).attr("refY",5).attr("markerUnits","userSpaceOnUse").attr("markerWidth",11).attr("markerHeight",11).attr("orient","auto").append("circle").attr("cx","5").attr("cy","5").attr("r","5").attr("class","arrowMarkerPath").style("stroke-width",1).style("stroke-dasharray","1,0")},"circle"),K=(0,o.__name)((t,e,r)=>{t.append("marker").attr("id",r+"_"+e+"-crossEnd").attr("class","marker cross "+e).attr("viewBox","0 0 11 11").attr("refX",12).attr("refY",5.2).attr("markerUnits","userSpaceOnUse").attr("markerWidth",11).attr("markerHeight",11).attr("orient","auto").append("path").attr("d","M 1,1 l 9,9 M 10,1 l -9,9").attr("class","arrowMarkerPath").style("stroke-width",2).style("stroke-dasharray","1,0"),t.append("marker").attr("id",r+"_"+e+"-crossStart").attr("class","marker cross "+e).attr("viewBox","0 0 11 11").attr("refX",-1).attr("refY",5.2).attr("markerUnits","userSpaceOnUse").attr("markerWidth",11).attr("markerHeight",11).attr("orient","auto").append("path").attr("d","M 1,1 l 9,9 M 10,1 l -9,9").attr("class","arrowMarkerPath").style("stroke-width",2).style("stroke-dasharray","1,0")},"cross"),tt=(0,o.__name)((t,e,r)=>{t.append("defs").append("marker").attr("id",r+"_"+e+"-barbEnd").attr("refX",19).attr("refY",7).attr("markerWidth",20).attr("markerHeight",14).attr("markerUnits","userSpaceOnUse").attr("orient","auto").append("path").attr("d","M 19,7 L9,13 L14,7 L9,1 Z")},"barb"),te=(0,o.__name)((t,e,r)=>{t.append("defs").append("marker").attr("id",r+"_"+e+"-onlyOneStart").attr("class","marker onlyOne "+e).attr("refX",0).attr("refY",9).attr("markerWidth",18).attr("markerHeight",18).attr("orient","auto").append("path").attr("d","M9,0 L9,18 M15,0 L15,18"),t.append("defs").append("marker").attr("id",r+"_"+e+"-onlyOneEnd").attr("class","marker onlyOne "+e).attr("refX",18).attr("refY",9).attr("markerWidth",18).attr("markerHeight",18).attr("orient","auto").append("path").attr("d","M3,0 L3,18 M9,0 L9,18")},"only_one"),tr=(0,o.__name)((t,e,r)=>{let a=t.append("defs").append("marker").attr("id",r+"_"+e+"-zeroOrOneStart").attr("class","marker zeroOrOne "+e).attr("refX",0).attr("refY",9).attr("markerWidth",30).attr("markerHeight",18).attr("orient","auto");a.append("circle").attr("fill","white").attr("cx",21).attr("cy",9).attr("r",6),a.append("path").attr("d","M9,0 L9,18");let s=t.append("defs").append("marker").attr("id",r+"_"+e+"-zeroOrOneEnd").attr("class","marker zeroOrOne "+e).attr("refX",30).attr("refY",9).attr("markerWidth",30).attr("markerHeight",18).attr("orient","auto");s.append("circle").attr("fill","white").attr("cx",9).attr("cy",9).attr("r",6),s.append("path").attr("d","M21,0 L21,18")},"zero_or_one"),ta=(0,o.__name)((t,e,r)=>{t.append("defs").append("marker").attr("id",r+"_"+e+"-oneOrMoreStart").attr("class","marker oneOrMore "+e).attr("refX",18).attr("refY",18).attr("markerWidth",45).attr("markerHeight",36).attr("orient","auto").append("path").attr("d","M0,18 Q 18,0 36,18 Q 18,36 0,18 M42,9 L42,27"),t.append("defs").append("marker").attr("id",r+"_"+e+"-oneOrMoreEnd").attr("class","marker oneOrMore "+e).attr("refX",27).attr("refY",18).attr("markerWidth",45).attr("markerHeight",36).attr("orient","auto").append("path").attr("d","M3,9 L3,27 M9,18 Q27,0 45,18 Q27,36 9,18")},"one_or_more"),ts=(0,o.__name)((t,e,r)=>{let a=t.append("defs").append("marker").attr("id",r+"_"+e+"-zeroOrMoreStart").attr("class","marker zeroOrMore "+e).attr("refX",18).attr("refY",18).attr("markerWidth",57).attr("markerHeight",36).attr("orient","auto");a.append("circle").attr("fill","white").attr("cx",48).attr("cy",18).attr("r",6),a.append("path").attr("d","M0,18 Q18,0 36,18 Q18,36 0,18");let s=t.append("defs").append("marker").attr("id",r+"_"+e+"-zeroOrMoreEnd").attr("class","marker zeroOrMore "+e).attr("refX",39).attr("refY",18).attr("markerWidth",57).attr("markerHeight",36).attr("orient","auto");s.append("circle").attr("fill","white").attr("cx",9).attr("cy",18).attr("r",6),s.append("path").attr("d","M21,18 Q39,0 57,18 Q39,36 21,18")},"zero_or_more"),ti={extension:I,composition:Q,aggregation:Z,dependency:G,lollipop:F,point:J,circle:V,cross:K,barb:tt,only_one:te,zero_or_one:tr,one_or_more:ta,zero_or_more:ts,requirement_arrow:(0,o.__name)((t,e,r)=>{t.append("defs").append("marker").attr("id",r+"_"+e+"-requirement_arrowEnd").attr("refX",20).attr("refY",10).attr("markerWidth",20).attr("markerHeight",20).attr("orient","auto").append("path").attr("d",`M0,0
      L20,10
      M20,10
      L0,20`)},"requirement_arrow"),requirement_contains:(0,o.__name)((t,e,r)=>{let a=t.append("defs").append("marker").attr("id",r+"_"+e+"-requirement_containsStart").attr("refX",0).attr("refY",10).attr("markerWidth",20).attr("markerHeight",20).attr("orient","auto").append("g");a.append("circle").attr("cx",10).attr("cy",10).attr("r",9).attr("fill","none"),a.append("line").attr("x1",1).attr("x2",19).attr("y1",10).attr("y2",10),a.append("line").attr("y1",1).attr("y2",19).attr("x1",10).attr("x2",10)},"requirement_contains")};t.s(["clear",()=>T,"insertEdge",()=>R,"insertEdgeLabel",()=>E,"markers_default",()=>D,"positionEdgeLabel",()=>C])},93016,t=>{"use strict";var e=t.i(54802),r=t.i(7983),a=t.i(95923),s=t.i(80926),i=t.i(71206),n={common:s.common_default,getConfig:s.getConfig,insertCluster:r.insertCluster,insertEdge:e.insertEdge,insertEdgeLabel:e.insertEdgeLabel,insertMarkers:e.markers_default,insertNode:r.insertNode,interpolateToCurve:a.interpolateToCurve,labelHelper:r.labelHelper,log:i.log,positionEdgeLabel:e.positionEdgeLabel},l={},o=(0,i.__name)(t=>{for(let e of t)l[e.name]=e},"registerLayoutLoaders");(0,i.__name)(()=>{o([{name:"dagre",loader:(0,i.__name)(async()=>await t.A(5230),"loader")},{name:"cose-bilkent",loader:(0,i.__name)(async()=>await t.A(62369),"loader")}])},"registerDefaultLayoutLoaders")();var d=(0,i.__name)(async(t,e)=>{if(!(t.layoutAlgorithm in l))throw Error(`Unknown layout algorithm: ${t.layoutAlgorithm}`);let r=l[t.layoutAlgorithm];return(await r.loader()).render(t,e,n,{algorithm:r.algorithm})},"render"),c=(0,i.__name)((t="",{fallback:e="dagre"}={})=>{if(t in l)return t;if(e in l)return i.log.warn(`Layout algorithm ${t} is not registered. Using ${e} as fallback.`),e;throw Error(`Both layout algorithms ${t} and ${e} are not registered.`)},"getRegisteredLayoutAlgorithm");t.s(["getRegisteredLayoutAlgorithm",()=>c,"registerLayoutLoaders",()=>o,"render",()=>d])},79486,t=>{"use strict";var e={name:"mermaid",version:"11.12.2",description:"Markdown-ish syntax for generating flowcharts, mindmaps, sequence diagrams, class diagrams, gantt charts, git graphs and more.",type:"module",module:"./dist/mermaid.core.mjs",types:"./dist/mermaid.d.ts",exports:{".":{types:"./dist/mermaid.d.ts",import:"./dist/mermaid.core.mjs",default:"./dist/mermaid.core.mjs"},"./*":"./*"},keywords:["diagram","markdown","flowchart","sequence diagram","gantt","class diagram","git graph","mindmap","packet diagram","c4 diagram","er diagram","pie chart","pie diagram","quadrant chart","requirement diagram","graph"],scripts:{clean:"rimraf dist",dev:"pnpm -w dev","docs:code":"typedoc src/defaultConfig.ts src/config.ts src/mermaid.ts && prettier --write ./src/docs/config/setup","docs:build":"rimraf ../../docs && pnpm docs:code && pnpm docs:spellcheck && tsx scripts/docs.cli.mts","docs:verify":"pnpm docs:code && pnpm docs:spellcheck && tsx scripts/docs.cli.mts --verify","docs:pre:vitepress":"pnpm --filter ./src/docs prefetch && rimraf src/vitepress && pnpm docs:code && tsx scripts/docs.cli.mts --vitepress && pnpm --filter ./src/vitepress install --no-frozen-lockfile --ignore-scripts","docs:build:vitepress":"pnpm docs:pre:vitepress && (cd src/vitepress && pnpm run build) && cpy --flat src/docs/landing/ ./src/vitepress/.vitepress/dist/landing","docs:dev":'pnpm docs:pre:vitepress && concurrently "pnpm --filter ./src/vitepress dev" "tsx scripts/docs.cli.mts --watch --vitepress"',"docs:dev:docker":'pnpm docs:pre:vitepress && concurrently "pnpm --filter ./src/vitepress dev:docker" "tsx scripts/docs.cli.mts --watch --vitepress"',"docs:serve":"pnpm docs:build:vitepress && vitepress serve src/vitepress","docs:spellcheck":'cspell "src/docs/**/*.md"',"docs:release-version":"tsx scripts/update-release-version.mts","docs:verify-version":"tsx scripts/update-release-version.mts --verify","types:build-config":"tsx scripts/create-types-from-json-schema.mts","types:verify-config":"tsx scripts/create-types-from-json-schema.mts --verify",checkCircle:"npx madge --circular ./src",prepublishOnly:"pnpm docs:verify-version"},repository:{type:"git",url:"https://github.com/mermaid-js/mermaid"},author:"Knut Sveidqvist",license:"MIT",standard:{ignore:["**/parser/*.js","dist/**/*.js","cypress/**/*.js"],globals:["page"]},dependencies:{"@braintree/sanitize-url":"^7.1.1","@iconify/utils":"^3.0.1","@mermaid-js/parser":"workspace:^","@types/d3":"^7.4.3",cytoscape:"^3.29.3","cytoscape-cose-bilkent":"^4.1.0","cytoscape-fcose":"^2.2.0",d3:"^7.9.0","d3-sankey":"^0.12.3","dagre-d3-es":"7.0.13",dayjs:"^1.11.18",dompurify:"^3.2.5",katex:"^0.16.22",khroma:"^2.1.0","lodash-es":"^4.17.21",marked:"^16.2.1",roughjs:"^4.6.6",stylis:"^4.3.6","ts-dedent":"^2.2.0",uuid:"^11.1.0"},devDependencies:{"@adobe/jsonschema2md":"^8.0.5","@iconify/types":"^2.0.0","@types/cytoscape":"^3.21.9","@types/cytoscape-fcose":"^2.2.4","@types/d3-sankey":"^0.12.4","@types/d3-scale":"^4.0.9","@types/d3-scale-chromatic":"^3.1.0","@types/d3-selection":"^3.0.11","@types/d3-shape":"^3.1.7","@types/jsdom":"^21.1.7","@types/katex":"^0.16.7","@types/lodash-es":"^4.17.12","@types/micromatch":"^4.0.9","@types/stylis":"^4.2.7","@types/uuid":"^10.0.0",ajv:"^8.17.1",canvas:"^3.1.2",chokidar:"3.6.0",concurrently:"^9.1.2","csstree-validator":"^4.0.1",globby:"^14.1.0",jison:"^0.4.18","js-base64":"^3.7.8",jsdom:"^26.1.0","json-schema-to-typescript":"^15.0.4",micromatch:"^4.0.8","path-browserify":"^1.0.1",prettier:"^3.5.3",remark:"^15.0.1","remark-frontmatter":"^5.0.0","remark-gfm":"^4.0.1",rimraf:"^6.0.1","start-server-and-test":"^2.0.13","type-fest":"^4.35.0",typedoc:"^0.28.12","typedoc-plugin-markdown":"^4.8.1",typescript:"~5.7.3","unist-util-flatmap":"^1.0.0","unist-util-visit":"^5.0.0",vitepress:"^1.6.4","vitepress-plugin-search":"1.0.4-alpha.22"},files:["dist/","README.md"],publishConfig:{access:"public"}};t.s(["package_default",()=>e])},65916,t=>{"use strict";var e=t.i(18050),r=t.i(71645);function a({content:t}){let[a,s]=(0,r.useState)(""),[i,n]=(0,r.useState)([]),[l,o]=(0,r.useState)(!1),d=(0,r.useRef)(null),c=(0,r.useRef)(null);(0,r.useEffect)(()=>{let e,r=/^(#{2,4})\s+(.+)$/gm,a=[];for(;null!==(e=r.exec(t));){let t=e[1].length,r=e[2],s=r.toLowerCase().replace(/\s+/g,"-").replace(/[^\w\u4e00-\u9fa5-]/g,"");a.push({id:s,text:r,level:t})}n(a);let s=setTimeout(()=>o(!0),100);return()=>clearTimeout(s)},[t]),(0,r.useEffect)(()=>{if(a&&c.current&&d.current){let t=d.current,e=c.current,r=t.getBoundingClientRect(),a=e.getBoundingClientRect(),s=a.top-r.top+t.scrollTop,i=s+a.height,n=t.scrollTop,l=n+t.clientHeight;s<n+40?t.scrollTo({top:Math.max(0,s-60),behavior:"smooth"}):i>l-40&&t.scrollTo({top:i-t.clientHeight+60,behavior:"smooth"})}},[a]),(0,r.useEffect)(()=>{if(0===i.length)return;let t=()=>{let t=i.map(t=>({id:t.id,element:document.getElementById(t.id)})).filter(t=>null!==t.element),e=window.scrollY,r="";for(let{id:a,element:s}of t)s&&s.offsetTop<=e+100&&(r=a);e<100&&t.length>0&&(r=t[0].id),r&&r!==a&&s(r)};return t(),window.addEventListener("scroll",t,{passive:!0}),()=>window.removeEventListener("scroll",t)},[i,a]);let p=(0,r.useCallback)((t,e)=>{t.preventDefault();let r=document.getElementById(e);if(r){let t=r.offsetTop-80;window.scrollTo({top:t,behavior:"smooth"}),s(e)}},[]);if(0===i.length)return null;let h=i.findIndex(t=>t.id===a);return(0,e.jsxs)("nav",{ref:d,className:`hidden lg:block fixed right-8 top-32 w-56 max-h-[60vh] overflow-y-auto toc-scrollbar transition-all duration-500 ${l?"opacity-100 translate-x-0":"opacity-0 translate-x-4"}`,style:{scrollbarWidth:"thin",scrollbarColor:"var(--color-paper-darker) transparent"},children:[(0,e.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,e.jsx)("h4",{className:"text-sm font-medium text-[var(--color-ink)]",children:"目录"}),(0,e.jsxs)("span",{className:"text-xs text-[var(--color-gray)]",children:[h+1,"/",i.length]})]}),(0,e.jsxs)("ul",{className:"space-y-1 text-sm relative",children:[(0,e.jsx)("div",{className:"absolute left-0 top-0 bottom-0 w-0.5 bg-[var(--color-paper-darker)] rounded-full"}),i.map((t,r)=>{let s=a===t.id,i=h>=0&&r<=h;return(0,e.jsxs)("li",{className:"relative",style:{paddingLeft:`${(t.level-2)*12}px`},children:[(0,e.jsx)("div",{className:`absolute left-0 top-1/2 -translate-y-1/2 w-2 h-2 rounded-full transition-all duration-300 ${s?"bg-[var(--color-vermilion)] scale-125":i?"bg-[var(--color-vermilion)] opacity-50":"bg-[var(--color-paper-darker)]"}`,style:{marginLeft:"-3px"}}),(0,e.jsx)("a",{ref:s?c:null,href:`#${t.id}`,className:`block py-1.5 pl-4 pr-2 rounded-r transition-all duration-200 ${s?"text-[var(--color-vermilion)] bg-[var(--color-vermilion)]/5 font-medium":i?"text-[var(--color-ink-light)]":"text-[var(--color-gray)] hover:text-[var(--color-ink)] hover:bg-[var(--color-paper-dark)]"}`,onClick:e=>p(e,t.id),children:(0,e.jsx)("span",{className:`block truncate transition-transform duration-200 ${s?"translate-x-1":""}`,children:t.text})})]},t.id)})]}),(0,e.jsxs)("div",{className:"flex gap-2 mt-4 pt-4 border-t border-[var(--color-paper-darker)]",children:[(0,e.jsx)("button",{onClick:()=>window.scrollTo({top:0,behavior:"smooth"}),className:"flex-1 text-xs py-1.5 text-[var(--color-gray)] hover:text-[var(--color-vermilion)] hover:bg-[var(--color-paper-dark)] rounded transition-colors",title:"回到顶部",children:"顶部"}),(0,e.jsx)("button",{onClick:()=>window.scrollTo({top:document.body.scrollHeight,behavior:"smooth"}),className:"flex-1 text-xs py-1.5 text-[var(--color-gray)] hover:text-[var(--color-vermilion)] hover:bg-[var(--color-paper-dark)] rounded transition-colors",title:"跳到底部",children:"底部"})]})]})}var s=t.i(52855),i=t.i(90715),n=t.i(38841),l=t.i(12740);function o({content:t}){let r=function(t){let e,r=[],a=/```graph\n([\s\S]*?)```/g,s=0;for(;null!==(e=a.exec(t));){if(e.index>s){let a=t.slice(s,e.index).trim();a&&r.push({type:"markdown",content:a})}try{let t=e[1].trim(),a=JSON.parse(t);r.push({type:"graph",data:a})}catch(t){console.error("Failed to parse graph data:",t),r.push({type:"markdown",content:"```json\n"+e[1]+"```"})}s=e.index+e[0].length}if(s<t.length){let e=t.slice(s).trim();e&&r.push({type:"markdown",content:e})}return r}(t);return(0,e.jsxs)(e.Fragment,{children:[(0,e.jsx)(s.default,{}),(0,e.jsx)(a,{content:t}),(0,e.jsx)("article",{className:"prose-chinese",children:r.map((t,r)=>"markdown"===t.type?(0,e.jsx)(l.default,{content:t.content},r):(0,e.jsx)("div",{className:"my-8 not-prose",children:(0,e.jsx)(n.default,{data:t.data})},r))}),(0,e.jsx)(i.default,{})]})}t.s(["default",()=>o],65916)},39484,t=>{t.v(t=>Promise.resolve().then(()=>t(16400)))},5230,t=>{t.v(e=>Promise.all(["static/chunks/14ee60c559c10e39.js","static/chunks/3d61fa548e85ff22.js","static/chunks/0346df7323977856.js"].map(e=>t.l(e))).then(()=>e(72465)))},62369,t=>{t.v(e=>Promise.all(["static/chunks/c231010aae14914b.js","static/chunks/762121739217e5da.js"].map(e=>t.l(e))).then(()=>e(97810)))},31892,t=>{t.v(e=>Promise.all(["static/chunks/f42ff7863eb4c3ff.js","static/chunks/6fee5c7b5d483c8a.js"].map(e=>t.l(e))).then(()=>e(3887)))},24476,t=>{t.v(e=>Promise.all(["static/chunks/cb863a7e46548566.js","static/chunks/b8b36494d4330f5f.js"].map(e=>t.l(e))).then(()=>e(23142)))},98583,t=>{t.v(e=>Promise.all(["static/chunks/d5b700b8aafeea3b.js"].map(e=>t.l(e))).then(()=>e(26887)))},39803,t=>{t.v(e=>Promise.all(["static/chunks/8eb618fa92112394.js","static/chunks/2924b41ac1069113.js","static/chunks/32034ee0bead329c.js"].map(e=>t.l(e))).then(()=>e(42640)))},62316,t=>{t.v(e=>Promise.all(["static/chunks/581c7f8a86cc86fb.js","static/chunks/9525dc246b363870.js"].map(e=>t.l(e))).then(()=>e(55454)))},43177,t=>{t.v(e=>Promise.all(["static/chunks/4b94d82681e3486f.js","static/chunks/2924b41ac1069113.js","static/chunks/8eb618fa92112394.js"].map(e=>t.l(e))).then(()=>e(76085)))},67571,t=>{t.v(e=>Promise.all(["static/chunks/78c1f17102e06f66.js","static/chunks/2924b41ac1069113.js","static/chunks/8eb618fa92112394.js"].map(e=>t.l(e))).then(()=>e(98741)))},66991,t=>{t.v(e=>Promise.all(["static/chunks/a13d8bdb9cf4dae3.js"].map(e=>t.l(e))).then(()=>e(4767)))},95768,t=>{t.v(e=>Promise.all(["static/chunks/80d338b58d217596.js","static/chunks/27f5fab49d8a5395.js"].map(e=>t.l(e))).then(()=>e(73239)))},72270,t=>{t.v(e=>Promise.all(["static/chunks/ae52f8e72d4127b1.js"].map(e=>t.l(e))).then(()=>e(17747)))},32135,t=>{t.v(e=>Promise.all(["static/chunks/20c1169c30c95e0f.js","static/chunks/dc16aeb5aabadbd8.js"].map(e=>t.l(e))).then(()=>e(31587)))},28891,t=>{t.v(e=>Promise.all(["static/chunks/81a54ecd0b78254e.js","static/chunks/0356b23e9d8fbd11.js"].map(e=>t.l(e))).then(()=>e(76395)))},85144,t=>{t.v(e=>Promise.all(["static/chunks/46d959abf8046f0e.js","static/chunks/0356b23e9d8fbd11.js"].map(e=>t.l(e))).then(()=>e(77929)))},81963,t=>{t.v(e=>Promise.all(["static/chunks/14ee60c559c10e39.js","static/chunks/3d61fa548e85ff22.js","static/chunks/6db641e351dac854.js"].map(e=>t.l(e))).then(()=>e(92377)))},50875,t=>{t.v(e=>Promise.all(["static/chunks/27faeef6a6f62be6.js"].map(e=>t.l(e))).then(()=>e(86830)))},88594,t=>{t.v(e=>Promise.all(["static/chunks/b8ca88454bfa8e05.js"].map(e=>t.l(e))).then(()=>e(68271)))},50608,t=>{t.v(e=>Promise.all(["static/chunks/f9eb3f4ff87b8d8d.js"].map(e=>t.l(e))).then(()=>e(48487)))},79956,t=>{t.v(e=>Promise.all(["static/chunks/1bdb5b021c9a4e61.js"].map(e=>t.l(e))).then(()=>e(15489)))},47048,t=>{t.v(e=>Promise.all(["static/chunks/af66c50a65af610b.js"].map(e=>t.l(e))).then(()=>e(77145)))},10617,t=>{t.v(e=>Promise.all(["static/chunks/3c5647e7277e8f03.js"].map(e=>t.l(e))).then(()=>e(46768)))},55071,t=>{t.v(e=>Promise.all(["static/chunks/e8450a345184e876.js","static/chunks/2924b41ac1069113.js","static/chunks/8eb618fa92112394.js"].map(e=>t.l(e))).then(()=>e(26229)))},71855,t=>{t.v(e=>Promise.all(["static/chunks/835538e414a04579.js","static/chunks/2924b41ac1069113.js","static/chunks/8eb618fa92112394.js"].map(e=>t.l(e))).then(()=>e(52024)))},94694,t=>{t.v(e=>Promise.all(["static/chunks/66b0dbbf4f62f3e9.js","static/chunks/be28d13ded360528.js","static/chunks/c2914ad6bed1375c.js"].map(e=>t.l(e))).then(()=>e(52409)))},27724,t=>{t.v(e=>Promise.all(["static/chunks/33080e01ef6fbe50.js","static/chunks/8eb618fa92112394.js","static/chunks/763b6fdc295920b2.js","static/chunks/2924b41ac1069113.js","static/chunks/762121739217e5da.js"].map(e=>t.l(e))).then(()=>e(89619)))},75754,t=>{t.v(e=>Promise.all(["static/chunks/8eb618fa92112394.js","static/chunks/2924b41ac1069113.js","static/chunks/f72db555d0b9b302.js"].map(e=>t.l(e))).then(()=>e(27421)))}]);